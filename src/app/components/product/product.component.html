<div id="piruliru"></div>
<div style="margin-top: 4vh;"><p-table [value]="products" tableStyleClass="clear-table" class=" w-[150vh] ml-50"
    [paginator]="true" [rows]="5">
    <ng-template pTemplate="header">
      <tr>
        <th>ID</th>
        <th>Nome</th>
        <th>Pre√ßo</th>
        <th><p-button icon="pi pi-plus" label="Novo" severity="success" (click)="showDialog()" /></th>
      </tr>
    </ng-template>
    <ng-template pTemplate="body" let-product>
      <tr>
        <td>{{ product.id }}</td>
        <td>{{ product.name }}</td>
        <td>{{ product.price | currency:'BRL':'symbol':'1.2-2' }}</td>
        <td>
          <p-button icon="pi pi-pencil" aria-label="Editar" (click)="edit(product)" severity="warn" />&nbsp;
          <p-button icon="pi pi-trash" aria-label="Deletar"  (click)="confirm2($event, product)"  severity="danger" />
        </td>

      </tr>
    </ng-template>
  </p-table>
  <div class="card flex justify-center" id="dialog-modal">
    <p-dialog [header]="!!selectedProduct() ? 'Editar produto' : 'Cadastrar produto'" [(visible)]="visible" position="top" [style]="{ width: '17rem' }">
      <app-product-form (changeVisibility)="changeVisibility($event)" [selectedProduct]="selectedProduct"></app-product-form>
    </p-dialog>
  </div>

<div class="card flex justify-center gap-2">
    <p-toast />
    <p-confirmdialog />
</div>

</div>